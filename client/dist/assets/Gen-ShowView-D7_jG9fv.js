import{p as r,c as W,a6 as I,b as f,f as u,d as l,F as C,r as M,n as G,t as k,i as p,h as z,w as A,j as $,k as P,l as j,m as L,q as B,s as T,v as q,x as U,y as V,z as D,A as H,B as O,C as X,D as Y,E as Z,G as J,H as K,I as Q,J as ee,K as te,L as se,M as ae,N as oe,O as le,P as ne,Q as ie,T as re,U as _e,V as ce,W as ue,X as ge,Y as de,Z as pe,$ as fe,a0 as he,a1 as me,a2 as E,o as N,a as ve,u as be,a7 as xe,a5 as ye,a8 as we}from"./index-a_YIeUNw.js";const Fe="/assets/Example-Capcy8RS.png",Se={class:"w-full px-3 mt-3"},ze={class:"w-full flex items-center",style:{gap:"5px"}},Ce={class:"text-[12px] leading-none select-none"},Ge={class:"flex-1 overflow-y-auto px-6 py-6"},Re={class:"flex flex-col gap-3"},Me={class:"flex items-start gap-2"},ke=["src"],Ie={class:"px-3 flex text-left"},Ae={class:"absolute bottom-3 flex-none right-3"},Ee={__name:"Gen_Information",props:{Gen:{type:Array,required:!0,default:()=>[0,0,0,0,0,0,0,0]},Rate:{type:Array,required:!0,default:()=>[0,0,0,0,0,0,0,0]}},setup(F){const e=F,i=[{label:(e.Rate[0]*100).toFixed(1).toString()+"%",value:e.Rate[0],color:e.Gen.length<1?"#000000":r[e.Gen[0]].themeColor},{label:(e.Rate[1]*100).toFixed(1).toString()+"%",value:e.Rate[1],color:e.Gen.length<2?"#000000":r[e.Gen[1]].themeColor},{label:(e.Rate[2]*100).toFixed(1).toString()+"%",value:e.Rate[2],color:e.Gen.length<3?"#000000":r[e.Gen[2]].themeColor},{label:(e.Rate[3]*100).toFixed(1).toString()+"%",value:e.Rate[3],color:e.Gen.length<4?"#000000":r[e.Gen[3]].themeColor},{label:(e.Rate[4]*100).toFixed(1).toString()+"%",value:e.Rate[4],color:e.Gen.length<5?"#000000":r[e.Gen[4]].themeColor},{label:(e.Rate[5]*100).toFixed(1).toString()+"%",value:e.Rate[5],color:e.Gen.length<6?"#000000":r[e.Gen[5]].themeColor},{label:(e.Rate[6]*100).toFixed(1).toString()+"%",value:e.Rate[6],color:e.Gen.length<7?"#000000":r[e.Gen[6]].themeColor},{label:(e.Rate[7]*100).toFixed(1).toString()+"%",value:e.Rate[7],color:e.Gen.length<8?"#000000":r[e.Gen[7]].themeColor}],g=W(()=>{const c=i.map(o=>({...o,value:Math.max(0,Number(o.value)||0)})).filter(o=>o.value>0),a=c.reduce((o,n)=>o+n.value,0)||1;return c.map(o=>({...o,pct:o.value/a*100}))}),_=c=>new URL(Object.assign({"../assets/Intro_collect.png":me,"../assets/Intro_gen.png":he,"../assets/Intro_gen2.png":fe,"../assets/Intro_gen3.png":pe,"../assets/Intro_gen4.png":de,"../assets/Intro_library.png":ge,"../assets/Intro_logo.png":ue,"../assets/Intro_map.png":ce,"../assets/Map-UI.png":_e,"../assets/Map.jpg":re,"../assets/Map.png":ie,"../assets/deer-sm-1.png":ne,"../assets/deer_button.png":le,"../assets/deer_points.png":oe,"../assets/logo.svg":ae,"../assets/main.css":se,"../assets/map_p.png":te,"../assets/五節芒.png":ee,"../assets/五節芒W.png":Q,"../assets/小葉桑.png":K,"../assets/小葉桑.svg":J,"../assets/小葉桑W.png":Z,"../assets/月桃.png":Y,"../assets/月桃W.png":X,"../assets/未知元素.png":O,"../assets/構樹.png":H,"../assets/構樹W.png":D,"../assets/穀穗.png":V,"../assets/穀穗W.png":U,"../assets/赤榕.png":q,"../assets/赤榕W.png":T,"../assets/金草蘭.png":B,"../assets/金草蘭W.png":L,"../assets/青剛櫟.png":j,"../assets/青剛櫟.svg":P,"../assets/青剛櫟W.png":$})[`../assets/${c}`],import.meta.url).href;return(c,a)=>{const o=I("RouterLink");return u(),f(C,null,[l("div",Se,[l("div",ze,[(u(!0),f(C,null,M(g.value,(n,x)=>(u(),f("div",{key:x,class:"rounded-[8px] flex items-center justify-center text-black font-medium transition-[flex-basis,width] duration-500 ease-out",style:G({flexBasis:n.pct+"%",height:"20px",backgroundColor:n.color})},[l("span",Ce,k(n.label??`${Math.round(n.pct)}%`),1)],4))),128))])]),l("div",Ge,[l("div",Re,[(u(!0),f(C,null,M(e.Gen.length,n=>(u(),f("div",{key:n,class:"relative flex items-center justify-between px-4 py-2 rounded-lg border border-white/20 text-base transition disabled:opacity-50 disabled:cursor-not-allowed"},[l("div",Me,[l("img",{src:_(p(r)[e.Gen[n-1]].image),alt:"",class:"w-6 h-6"},null,8,ke),l("div",Ie,[l("span",{class:"font-medium text-[16px]",style:G({color:p(r)[e.Gen[n-1]].themeColor})},k(p(r)[e.Gen[n-1]].nameZh+" | "+p(r)[e.Gen[n-1]].nameEn),5)]),l("div",Ae,[z(o,{to:{name:"information",query:{id:p(r)[e.Gen[n-1]].id}},class:"flex h-6 w-6 items-center justify-center bg-black/60"},{default:A(()=>[l("span",{class:"text-3xl leading-none",style:G({color:p(r)[e.Gen[n-1]].themeColor})}," › ",4)]),_:2},1032,["to"])])])]))),128))]),a[0]||(a[0]=l("div",{class:"h-20"},null,-1))])],64)}}},Ne={__name:"ExplosionEffect",props:{colors:{type:Array,default:()=>["#C8AAFF","#ffffff","#7093FF","#FFF2A6"]},duration:{type:Number,default:5e3},particleCount:{type:Number,default:250},minSize:{type:Number,default:4},maxSize:{type:Number,default:30},minForce:{type:Number,default:2},maxForce:{type:Number,default:8}},setup(F){const e=F,i=E(null);let g=null,_=null,c=[],a=0;const o=(d,t)=>Math.random()*(t-d)+d;class n{constructor(t,s,m,S,h,v,b){this.x=t,this.y=s;const y=o(0,Math.PI*2),w=o(v,b);this.vx=Math.cos(y)*w,this.vy=Math.sin(y)*w,this.color=m[Math.floor(Math.random()*m.length)],this.originalSize=o(S,h),this.size=this.originalSize,this.life=1,this.decay=o(.005,.015),this.shape=Math.floor(o(0,4)),this.rotation=o(0,Math.PI*2),this.rotationSpeed=o(-.1,.1)}update(){this.x+=this.vx,this.y+=this.vy,this.vx*=.96,this.vy*=.96,this.vy+=.05,this.life-=this.decay,this.size=this.originalSize*Math.max(0,this.life),this.rotation+=this.rotationSpeed}draw(t){if(this.life<=0||this.size<=0)return;t.save(),t.translate(this.x,this.y),t.rotate(this.rotation),t.globalAlpha=this.life,t.fillStyle=this.color,t.shadowBlur=10,t.shadowColor=this.color;const s=this.size;switch(this.shape){case 0:t.beginPath(),t.arc(0,0,s/2,0,Math.PI*2),t.fill();break;case 1:this.drawStar(t,4,s/2,s/6);break;case 2:t.fillRect(-s/2,-s/8,s,s/4),t.fillRect(-s/8,-s/2,s/4,s);break;case 3:t.fillRect(-s/2,-s/2,s,s);break}t.restore()}drawStar(t,s,m,S){let h=Math.PI/2*3,v=0,b=0,y=Math.PI/s;t.beginPath(),t.moveTo(0,0-m);for(let w=0;w<s;w++)v=Math.cos(h)*m,b=Math.sin(h)*m,t.lineTo(v,b),h+=y,v=Math.cos(h)*S,b=Math.sin(h)*S,t.lineTo(v,b),h+=y;t.lineTo(0,0-m),t.closePath(),t.fill()}}const x=()=>{i.value&&(i.value.width=window.innerWidth,i.value.height=window.innerHeight)},R=d=>{a||(a=d),!(d-a>e.duration)&&(!g||!i.value||(g.clearRect(0,0,i.value.width,i.value.height),g.globalCompositeOperation="lighter",c.forEach(s=>{s.update(),s.draw(g)}),c=c.filter(s=>s.life>0),c.length>0&&(_=requestAnimationFrame(R))))};return N(()=>{if(i.value){g=i.value.getContext("2d"),x(),window.addEventListener("resize",x);const d=window.innerWidth/2,t=window.innerHeight*.3;for(let s=0;s<e.particleCount;s++)c.push(new n(d,t,e.colors,e.minSize,e.maxSize,e.minForce,e.maxForce));_=requestAnimationFrame(R)}}),ve(()=>{cancelAnimationFrame(_),window.removeEventListener("resize",x)}),(d,t)=>(u(),f("canvas",{ref_key:"canvasRef",ref:i,class:"fixed top-0 left-0 w-full h-full pointer-events-none z-[50]"},null,512))}},We={class:"flex flex-col relative w-full h-full"},$e={class:"relative z-10 top-[0px] w-full"},Pe={key:0},je={key:1},Le={class:"flex justify-center"},Te={__name:"Gen-ShowView",setup(F){const e=be(),i=E(!0),g=["#C8AAFF","#ffffff","#7093FF","#FFF2A6"],_={particleCount:100,minSize:4,maxSize:60,minForce:3,maxForce:12,duration:8e3};return N(()=>{setTimeout(()=>{i.value=!1},_.duration)}),(c,a)=>{const o=I("RouterLink");return u(),f("div",We,[z(we),i.value?(u(),xe(Ne,{key:0,colors:g,particleCount:_.particleCount,minSize:_.minSize,maxSize:_.maxSize,minForce:_.minForce,maxForce:_.maxForce,duration:_.duration},null,8,["particleCount","minSize","maxSize","minForce","maxForce","duration"])):ye("",!0),a[5]||(a[5]=l("div",{class:"absolute top-0 left-0 z-0 w-full h-[500px] overflow-hidden bg-[#000000]"},null,-1)),l("div",$e,[p(e).gen.length>0?(u(),f("div",Pe,[a[0]||(a[0]=l("div",{class:"flex justify-center mb-4"},[l("img",{src:Fe,alt:"Example Image",class:"w-full h-auto"})],-1)),a[1]||(a[1]=l("div",{class:"relative -top-24 left-0 z-10 w-full h-24 bg-gradient-to-t from-[#517ADA] to-black-500"},null,-1)),a[2]||(a[2]=l("div",{class:"relative -top-12 text-white mt-3 text-[24px] font-bold text-center"}," 你獲得了一隻ＯＯＯ鹿! ",-1)),z(Ee,{Gen:p(e).gen,Rate:p(e).SelectedItemRate},null,8,["Gen","Rate"])])):(u(),f("div",je,[a[4]||(a[4]=l("div",{class:"text-white mt-3 text-[18px] font-bold text-center mb-3"}," 你還沒有選擇任何元素，請選擇元素! ",-1)),l("div",Le,[z(o,{to:"/gen-choose",class:"flex h-12 w-12 items-center justify-center rounded-full border border-[#ffffff] bg-black/60"},{default:A(()=>[...a[3]||(a[3]=[l("span",{class:"text-3xl leading-none text-[#ffffff]"}," › ",-1)])]),_:1})])]))])])}}};export{Te as default};
