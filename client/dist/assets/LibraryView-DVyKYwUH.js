import{_ as $,u as j,r as W,p as V,g as _,S as m,c as U,o as E,a as L,b as i,d as e,e as O,F as x,f,h as r,n as w,i as N,t as d,w as F,j as M,R as P,k as y,v as k,l as A,m as B,q as D,s as R,x as J,y as G,z as Z,A as q,B as H,C as Y,D as K,E as Q,G as X,H as ee,I as te,J as se,K as oe,L as ae,M as le,N as ne,O as ie,P as re,Q as _e,T as de,U as ce,V as ge,W as pe,X as ue,Y as be,Z as he,$ as ve,a0 as me,a1 as xe}from"./index-Cq8sIlQF.js";const fe={class:"min-h-screen bg-black text-white selection:bg-rose-500 px-3 selection:text-white"},we={class:"mx-auto min-h-screen max-w-[420px] bg-black relative"},ye={class:"relative px-1 pb-10"},ke={key:0},Ce={class:"relative z-10 flex min-h-[140px] flex-col p-4"},Ie={class:"flex items-start gap-5"},Se={class:"shrink-0 pt-1"},Te={class:"grid h-[55px] w-[55px] place-items-center rounded-full border border-white/30 bg-white/10 backdrop-blur-sm shadow-inner overflow-hidden"},ze=["src","alt"],$e={class:"flex-1"},je={class:"flex items-start justify-between"},We={class:"text-[18px] font-bold tracking-[1.2em] text-white drop-shadow-md"},Ve={class:"mt-1 text-base tracking-wider text-white/80 italic font-serif"},Ue={class:"mt-4 inline-flex items-center gap-2 rounded-full border border-white/40 bg-white/20 px-3 py-1 backdrop-blur-md"},Ee={class:"text-xs font-bold text-white"},Le={key:1},Oe={class:"relative z-10 flex min-h-[140px] flex-col p-4"},Ne={class:"flex items-start gap-5"},Fe={class:"shrink-0 pt-1"},Me={class:"grid h-[55px] w-[55px] place-items-center rounded-full bg-white/10 backdrop-blur-sm shadow-inner overflow-hidden"},Pe=["src","alt"],Ae={class:"flex-1"},Be={class:"mt-5 inline-flex items-center gap-2 rounded-full bg-white/10 px-3 py-1 backdrop-blur-md"},De={class:"text-xs font-bold text-white/40"},Re={class:"px-6 py-8 bg-gray-900/80 mt-10 rounded-xl mx-4 mb-32 border border-white/10"},Je={class:"grid grid-cols-1 gap-4"},Ge={class:"text-white/80 text-sm font-medium w-20 truncate"},Ze={class:"flex items-center gap-2 flex-1"},qe={class:"flex flex-col gap-1 mr-2"},He=["onClick","disabled"],Ye=["onClick","disabled"],Ke=["onUpdate:modelValue","onInput"],Qe=["onUpdate:modelValue","onChange"],Xe={__name:"LibraryView",setup(et){const C=j(),a=W(JSON.parse(JSON.stringify(V)));_.registerPlugin(m);const p=t=>new URL(Object.assign({"../assets/Intro_collect.png":xe,"../assets/Intro_gen.png":me,"../assets/Intro_gen2.png":ve,"../assets/Intro_gen3.png":he,"../assets/Intro_gen4.png":be,"../assets/Intro_library.png":ue,"../assets/Intro_logo.png":pe,"../assets/Intro_map.png":ge,"../assets/Map.jpg":ce,"../assets/Map.png":de,"../assets/deer-sm-1.png":_e,"../assets/deer_button.png":re,"../assets/deer_points.png":ie,"../assets/logo.svg":ne,"../assets/main.css":le,"../assets/map_p.png":ae,"../assets/五節芒.png":oe,"../assets/五節芒W.png":se,"../assets/小葉桑.png":te,"../assets/小葉桑W.png":ee,"../assets/月桃.png":X,"../assets/月桃W.png":Q,"../assets/未知元素.png":K,"../assets/構樹.png":Y,"../assets/構樹W.png":H,"../assets/穀穗.png":q,"../assets/穀穗W.png":Z,"../assets/赤榕.png":G,"../assets/赤榕W.png":J,"../assets/金草蘭.png":R,"../assets/金草蘭W.png":D,"../assets/青剛櫟.png":B,"../assets/青剛櫟W.png":A})[`../assets/${t}`],import.meta.url).href,I={tapangeosx:0,kitposa:1,otu:2,"tahivcu & tahzucu":3,haengu:4,yono:5,"ton'u & pai":6,fiteu:7};let c;const u=(t,s)=>{c&&clearTimeout(c),c=setTimeout(()=>{g()},300)},S=t=>{if(t>0){const s=a.value[t];a.value[t]=a.value[t-1],a.value[t-1]=s,g()}},T=t=>{if(t<a.value.length-1){const s=a.value[t];a.value[t]=a.value[t+1],a.value[t+1]=s,g()}},g=async()=>{try{const t=await fetch("http://localhost:4000/api/save-plant-data",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a.value)});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);console.log("Saved all plant data")}catch(t){console.error("Failed to save plant data:",t)}},z=U(()=>a.value.map(t=>{const s=I[t.id],o=s!==void 0?C.ItemScale[s]:0;return{zh:t.nameZh,en:t.nameEn,id:t.id,percent:o,gradFrom:t.themeColor,gradTo:"rgba(0,0,0, 1)",img:t.image.replace(".png","W.png")}}));let b;return E(()=>{b=_.context(()=>{const t=_.utils.toArray(".stack-card"),s=110,o=35;_.set(t,{filter:"brightness(1) blur(0px)",scale:1,y:0}),t.forEach((l,n)=>{const h=t[n+1];if(!h)return;const v=s+(n+1)*o;_.to(l,{scale:.9+.01*n,filter:"brightness(0.7) ",y:-10,transformOrigin:"center top",ease:"none",scrollTrigger:{trigger:h,start:`top ${v+300}px`,end:`top ${v}px`,scrub:!0}})})})}),L(()=>{b?.revert(),m.getAll().forEach(t=>t.kill())}),(t,s)=>(r(),i("div",fe,[e("div",we,[s[6]||(s[6]=O('<div class="top-0 z-50 px-6 pt-3 pb-12 bg-gradient-to-b from-black via-black/90 to-transparent" data-v-5941a44c><div class="mt-6 flex items-center gap-4 pl-1" data-v-5941a44c><div class="text-lg tracking-[0.35em] font-bold text-gray-200" data-v-5941a44c> 圖 鑑 </div><div class="text-white/20 text-sm" data-v-5941a44c>|</div><div class="text-lg tracking-[0.35em] font-normal text-gray-400" data-v-5941a44c> LIBRARY </div></div></div>',1)),e("main",ye,[(r(!0),i(x,null,f(z.value,(o,l)=>(r(),i("article",{key:o.zh,class:"stack-card sticky mb-8 overflow-hidden rounded-[20px] border border-white/10 shadow-2xl origin-top",style:w({top:`calc(30px + ${l*74}px)`,zIndex:l+1,willChange:"transform, filter"})},[o.percent>0?(r(),i("div",ke,[e("div",{class:"absolute inset-0 z-0 transition-transform duration-700",style:w({background:`linear-gradient(180deg, ${o.gradFrom} 0%, ${o.gradTo} 80%)`})},null,4),e("div",Ce,[e("div",Ie,[e("div",Se,[e("div",Te,[e("img",{src:p(o.img),alt:o.zh,class:"h-full w-full object-cover opacity-90"},null,8,ze)])]),e("div",$e,[e("div",je,[e("h2",We,d(o.zh),1),N(M(P),{to:{path:"/information",query:{id:o.id}},class:"flex h-8 w-8 items-center justify-center rounded-full border border-white/80 bg-white/5"},{default:F(()=>[...s[0]||(s[0]=[e("span",{class:"text-2xl leading-none text-white/70"}," › ",-1)])]),_:1},8,["to"])]),e("p",Ve,d(o.en),1),e("div",Ue,[s[1]||(s[1]=e("div",{class:"h-1.5 w-1.5 rounded-full bg-white"},null,-1)),e("span",Ee,d(o.percent)+"%",1)])])])])])):(r(),i("div",Le,[s[4]||(s[4]=e("div",{class:"absolute inset-0 z-0 transition-transform duration-700",style:{background:"linear-gradient(180deg, #333333 0%, #000000 80%)"}},null,-1)),e("div",Oe,[e("div",Ne,[e("div",Fe,[e("div",Me,[e("img",{src:p("未知元素.png"),alt:o.zh,class:"h-full w-full object-cover opacity-50"},null,8,Pe)])]),e("div",Ae,[s[3]||(s[3]=e("div",{class:"flex items-start justify-between"},[e("h2",{class:"text-[18px] font-bold tracking-[1.2em] text-white/40 drop-shadow-md"}," ???? ")],-1)),e("div",Be,[s[2]||(s[2]=e("div",{class:"h-1.5 w-1.5 rounded-full bg-white/40"},null,-1)),e("span",De,d(o.percent)+"%",1)])])])])]))],4))),128))]),s[7]||(s[7]=e("div",{class:"w-[110%] -ml-5 h-px bg-white/50 mb-4 mt-20"},null,-1)),s[8]||(s[8]=e("div",{class:"my-5 text-center"},"2026 Taiwan Lantern Festival",-1)),s[9]||(s[9]=e("div",{class:"w-full h-[200px] mt-150 mb-50 text-white"},null,-1)),e("div",Re,[s[5]||(s[5]=e("h3",{class:"text-white text-lg mb-4 font-bold tracking-wider text-center"},"Theme Color Editor",-1)),e("div",Je,[(r(!0),i(x,null,f(a.value,(o,l)=>(r(),i("div",{key:o.id,class:"flex items-center gap-4 bg-white/5 p-3 rounded-lg border border-white/5"},[e("span",Ge,d(o.nameZh),1),e("div",Ze,[e("div",qe,[e("button",{onClick:n=>S(l),disabled:l===0,class:"w-6 h-6 flex items-center justify-center bg-white/10 hover:bg-white/20 disabled:opacity-30 disabled:cursor-not-allowed rounded text-white text-xs"}," ▲ ",8,He),e("button",{onClick:n=>T(l),disabled:l===a.value.length-1,class:"w-6 h-6 flex items-center justify-center bg-white/10 hover:bg-white/20 disabled:opacity-30 disabled:cursor-not-allowed rounded text-white text-xs"}," ▼ ",8,Ye)]),y(e("input",{type:"color","onUpdate:modelValue":n=>o.themeColor=n,onInput:n=>u(l,o.themeColor),class:"bg-transparent border-none w-10 h-10 cursor-pointer rounded overflow-hidden"},null,40,Ke),[[k,o.themeColor]]),y(e("input",{type:"text","onUpdate:modelValue":n=>o.themeColor=n,onChange:n=>u(l,o.themeColor),class:"bg-black/40 text-white text-sm px-3 py-2 rounded border border-white/10 w-full font-mono uppercase focus:border-rose-500 focus:outline-none transition-colors",placeholder:"#000000"},null,40,Qe),[[k,o.themeColor]])])]))),128))])])])]))}},st=$(Xe,[["__scopeId","data-v-5941a44c"]]);export{st as default};
