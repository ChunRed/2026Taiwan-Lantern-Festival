import{p as m,c as F,a6 as Y,b as I,f as h,d as c,F as M,r as j,n as R,t as U,i as G,h as $,w as H,j as k,k as he,l as V,m as W,q as Z,s as A,v as K,x as B,y as J,z as L,A as Q,B as ee,C as E,D as se,E as P,G as be,H as te,I as N,J as ne,K as ae,L as xe,M as ye,N as oe,O as le,P as ie,Q as _e,T as Ie,U as re,V as ge,W as ce,X as pe,Y as me,Z as ue,$ as de,a0 as ve,a1 as fe,a2 as w,o as X,a as we,a7 as q,a8 as Ge,_ as Se,u as ze,a9 as O,a5 as D,aa as $e,ab as Fe}from"./index-BWsX_FyP.js";const Re="/assets/0-ByZ3f7o9.png",Ce="/assets/01-BZH5iYU0.png",Me="/assets/02-H6U_KpoX.png",ke="/assets/03-CsOEDp0y.png",We="/assets/04-DYJqKvJq.png",Ae="/assets/05-RWTVC6Lu.png",Be="/assets/06-CRtSAlT6.png",Le="/assets/07-BwFLM2qd.png",Ee="/assets/12-DNGX2X9A.png",Pe="/assets/13-BohQ0xcS.png",Ne="/assets/14-DSf1ORJx.png",Xe="/assets/15-SXVKbKgl.png",je="/assets/16-B2qL6Y8Z.png",Ue="/assets/17-F1LoNpAs.png",qe="/assets/23-yn9aAW9X.png",Oe="/assets/24-DukEqGaR.png",De="/assets/25-CxG8Y0x9.png",Te="/assets/26-CCiF00H0.png",Ye="/assets/27-BXvLdYRm.png",He="/assets/34-E7RqHhsg.png",Ve="/assets/35-BC6FZgVG.png",Ze="/assets/36-Da7QDiXG.png",Ke="/assets/37-BXTex3pa.png",Je="/assets/45-BFG826s6.png",Qe="/assets/46-CKpPWmgN.png",es="/assets/47-BHQmUMtw.png",ss="/assets/56-BpaQ_8ne.png",ts="/assets/57-Y6ArXAwJ.png",ns="/assets/67-Hpdv9GjF.png",as={class:"w-full px-3 mt-3"},os={class:"w-full flex items-center",style:{gap:"5px"}},ls={class:"text-[12px] leading-none select-none"},is={class:"flex-1 overflow-y-auto px-6 py-6"},_s={class:"flex flex-col gap-3"},rs={class:"flex items-start gap-2"},gs=["src"],cs={class:"px-3 flex text-left"},ps={class:"absolute bottom-3 flex-none right-3"},ms={__name:"Gen_Information",props:{Gen:{type:Array,required:!0,default:()=>[0,0,0,0,0,0,0,0]},Rate:{type:Array,required:!0,default:()=>[0,0,0,0,0,0,0,0]}},setup(z){const e=z,_=[{label:(e.Rate[0]*100).toFixed(1).toString()+"%",value:e.Rate[0],color:e.Gen.length<1?"#000000":m[e.Gen[0]].themeColor},{label:(e.Rate[1]*100).toFixed(1).toString()+"%",value:e.Rate[1],color:e.Gen.length<2?"#000000":m[e.Gen[1]].themeColor},{label:(e.Rate[2]*100).toFixed(1).toString()+"%",value:e.Rate[2],color:e.Gen.length<3?"#000000":m[e.Gen[2]].themeColor},{label:(e.Rate[3]*100).toFixed(1).toString()+"%",value:e.Rate[3],color:e.Gen.length<4?"#000000":m[e.Gen[3]].themeColor},{label:(e.Rate[4]*100).toFixed(1).toString()+"%",value:e.Rate[4],color:e.Gen.length<5?"#000000":m[e.Gen[4]].themeColor},{label:(e.Rate[5]*100).toFixed(1).toString()+"%",value:e.Rate[5],color:e.Gen.length<6?"#000000":m[e.Gen[5]].themeColor},{label:(e.Rate[6]*100).toFixed(1).toString()+"%",value:e.Rate[6],color:e.Gen.length<7?"#000000":m[e.Gen[6]].themeColor},{label:(e.Rate[7]*100).toFixed(1).toString()+"%",value:e.Rate[7],color:e.Gen.length<8?"#000000":m[e.Gen[7]].themeColor}],r=F(()=>{const u=_.map(o=>({...o,value:Math.max(0,Number(o.value)||0)})).filter(o=>o.value>0),d=u.reduce((o,p)=>o+p.value,0)||1;return u.map(o=>({...o,pct:o.value/d*100}))}),b=u=>new URL(Object.assign({"../assets/Intro_collect.png":fe,"../assets/Intro_gen.png":ve,"../assets/Intro_gen2.png":de,"../assets/Intro_gen3.png":ue,"../assets/Intro_gen4.png":me,"../assets/Intro_library.png":pe,"../assets/Intro_logo.png":ce,"../assets/Intro_map.png":ge,"../assets/Map-UI.png":re,"../assets/Map.jpg":Ie,"../assets/Map.png":_e,"../assets/deer-sm-1.png":ie,"../assets/deer_button.png":le,"../assets/deer_points.png":oe,"../assets/logo.svg":ye,"../assets/main.css":xe,"../assets/map_p.png":ae,"../assets/五節芒.png":ne,"../assets/五節芒W.png":N,"../assets/小葉桑.png":te,"../assets/小葉桑.svg":be,"../assets/小葉桑W.png":P,"../assets/月桃.png":se,"../assets/月桃W.png":E,"../assets/未知元素.png":ee,"../assets/構樹.png":Q,"../assets/構樹W.png":L,"../assets/穀穗.png":J,"../assets/穀穗W.png":B,"../assets/赤榕.png":K,"../assets/赤榕W.png":A,"../assets/金草蘭.png":Z,"../assets/金草蘭W.png":W,"../assets/青剛櫟.png":V,"../assets/青剛櫟.svg":he,"../assets/青剛櫟W.png":k})[`../assets/${u}`],import.meta.url).href;return(u,d)=>{const o=Y("RouterLink");return h(),I(M,null,[c("div",as,[c("div",os,[(h(!0),I(M,null,j(r.value,(p,y)=>(h(),I("div",{key:y,class:"rounded-[8px] flex items-center justify-center text-black font-medium transition-[flex-basis,width] duration-500 ease-out",style:R({flexBasis:p.pct+"%",height:"20px",backgroundColor:p.color})},[c("span",ls,U(p.label??`${Math.round(p.pct)}%`),1)],4))),128))])]),c("div",is,[c("div",_s,[(h(!0),I(M,null,j(e.Gen.length,p=>(h(),I("div",{key:p,class:"relative flex items-center justify-between px-4 py-2 rounded-lg border border-white/20 text-base transition disabled:opacity-50 disabled:cursor-not-allowed"},[c("div",rs,[c("img",{src:b(G(m)[e.Gen[p-1]].image),alt:"",class:"w-6 h-6"},null,8,gs),c("div",cs,[c("span",{class:"font-medium text-[16px]",style:R({color:G(m)[e.Gen[p-1]].themeColor})},U(G(m)[e.Gen[p-1]].nameZh+" | "+G(m)[e.Gen[p-1]].nameEn),5)]),c("div",ps,[$(o,{to:{name:"information",query:{id:G(m)[e.Gen[p-1]].id}},class:"flex h-6 w-6 items-center justify-center bg-black/60"},{default:H(()=>[c("span",{class:"text-3xl leading-none",style:R({color:G(m)[e.Gen[p-1]].themeColor})}," › ",4)]),_:2},1032,["to"])])])]))),128))]),d[0]||(d[0]=c("div",{class:"h-20"},null,-1))])],64)}}},us={__name:"ExplosionEffect",props:{colors:{type:Array,default:()=>["#C8AAFF","#ffffff","#7093FF","#FFF2A6"]},duration:{type:Number,default:5e3},particleCount:{type:Number,default:250},minSize:{type:Number,default:4},maxSize:{type:Number,default:30},minForce:{type:Number,default:2},maxForce:{type:Number,default:8}},setup(z){const e=z,_=w(null);let r=null,b=null,u=[],d=0;const o=(f,t)=>Math.random()*(t-f)+f;class p{constructor(t,n,l,s,a,i,g){this.x=t,this.y=n;const v=o(0,Math.PI*2),x=o(i,g);this.vx=Math.cos(v)*x,this.vy=Math.sin(v)*x,this.color=l[Math.floor(Math.random()*l.length)],this.originalSize=o(s,a),this.size=this.originalSize,this.life=1,this.decay=o(.005,.015),this.shape=Math.floor(o(0,4)),this.rotation=o(0,Math.PI*2),this.rotationSpeed=o(-.1,.1)}update(){this.x+=this.vx,this.y+=this.vy,this.vx*=.96,this.vy*=.96,this.vy+=.05,this.life-=this.decay,this.size=this.originalSize*Math.max(0,this.life),this.rotation+=this.rotationSpeed}draw(t){if(this.life<=0||this.size<=0)return;t.save(),t.translate(this.x,this.y),t.rotate(this.rotation),t.globalAlpha=this.life,t.fillStyle=this.color,t.shadowBlur=10,t.shadowColor=this.color;const n=this.size;switch(this.shape){case 0:t.beginPath(),t.arc(0,0,n/2,0,Math.PI*2),t.fill();break;case 1:this.drawStar(t,4,n/2,n/6);break;case 2:t.fillRect(-n/2,-n/8,n,n/4),t.fillRect(-n/8,-n/2,n/4,n);break;case 3:t.fillRect(-n/2,-n/2,n,n);break}t.restore()}drawStar(t,n,l,s){let a=Math.PI/2*3,i=0,g=0,v=Math.PI/n;t.beginPath(),t.moveTo(0,0-l);for(let x=0;x<n;x++)i=Math.cos(a)*l,g=Math.sin(a)*l,t.lineTo(i,g),a+=v,i=Math.cos(a)*s,g=Math.sin(a)*s,t.lineTo(i,g),a+=v;t.lineTo(0,0-l),t.closePath(),t.fill()}}const y=()=>{_.value&&(_.value.width=window.innerWidth,_.value.height=window.innerHeight)},S=f=>{d||(d=f),!(f-d>e.duration)&&(!r||!_.value||(r.clearRect(0,0,_.value.width,_.value.height),r.globalCompositeOperation="lighter",u.forEach(n=>{n.update(),n.draw(r)}),u=u.filter(n=>n.life>0),u.length>0&&(b=requestAnimationFrame(S))))};return X(()=>{if(_.value){r=_.value.getContext("2d"),y(),window.addEventListener("resize",y);const f=window.innerWidth/2,t=window.innerHeight*.3;for(let n=0;n<e.particleCount;n++)u.push(new p(f,t,e.colors,e.minSize,e.maxSize,e.minForce,e.maxForce));b=requestAnimationFrame(S)}}),we(()=>{cancelAnimationFrame(b),window.removeEventListener("resize",y)}),(f,t)=>(h(),I("canvas",{ref_key:"canvasRef",ref:_,class:"fixed top-0 left-0 w-full h-full pointer-events-none z-[50]"},null,512))}},T={__name:"FloatingIconsCanvas",props:{images:{type:Array,default:()=>[]},config:{type:Object,default:()=>({density:12,minSize:80,maxSize:200,speedX:.5,speedY:1,rotSpeed:.02,opacity:.4})}},setup(z){const e=z,_=w(null);let r,b,u=[],d=[],o=null;const p=()=>{if(u=[],d.length===0||!_.value)return;const{density:t,minSize:n,maxSize:l,speedX:s,speedY:a,rotSpeed:i}=e.config,g=_.value.parentElement.getBoundingClientRect(),v=g.width,x=g.height;for(let C=0;C<t;C++)u.push({img:d[C%d.length],x:Math.random()*v,y:Math.random()*x,size:n+Math.random()*(l-n),vx:(Math.random()-.5)*s,vy:-(Math.random()*.5+.5)*a,rot:Math.random()*Math.PI*2,vrot:(Math.random()-.5)*i})},y=async()=>{d=[];const t=e.images.map(l=>new Promise(s=>{const a=new Image;a.onload=()=>s(a),a.onerror=()=>s(null),a.src=l}));d=(await Promise.all(t)).filter(l=>l!==null),p()};q(()=>e.images,y,{deep:!0}),q(()=>e.config,p,{deep:!0});const S=()=>{if(!_.value||!r)return;const t=_.value.parentElement.getBoundingClientRect(),n=t.width,l=t.height;r.clearRect(0,0,n,l),u.forEach(s=>{s.x+=s.vx,s.y+=s.vy,s.rot+=s.vrot,s.x<-s.size&&(s.x=n+s.size),s.x>n+s.size&&(s.x=-s.size),s.y<-s.size&&(s.y=l+s.size),s.y>l+s.size&&(s.y=-s.size),r.save(),r.translate(s.x,s.y),r.rotate(s.rot),r.globalAlpha=e.config.opacity||.4,r.drawImage(s.img,-s.size/2,-s.size/2,s.size,s.size),r.restore()}),b=requestAnimationFrame(S)},f=()=>{if(!_.value)return;const t=_.value;r=t.getContext("2d"),o&&o.disconnect(),o=new ResizeObserver(n=>{for(const l of n){const s=l.contentRect,a=window.devicePixelRatio||1;t.width=s.width*a,t.height=s.height*a,r.scale(a,a)}}),t.parentElement&&o.observe(t.parentElement)};return X(()=>{f(),y(),S()}),Ge(()=>{b&&cancelAnimationFrame(b),o&&o.disconnect()}),(t,n)=>(h(),I("canvas",{ref_key:"canvasRef",ref:_,class:"floating-canvas absolute inset-0 w-full h-full pointer-events-none z-[-1]"},null,512))}},ds={class:"flex flex-col relative w-full h-full"},vs={class:"relative z-10 top-[0px] w-full"},fs={key:0},hs={class:"flex justify-center relative w-full h-auto overflow-hidden"},bs=["src"],xs={key:1},ys={class:"flex justify-center"},Is={__name:"Gen-ShowView",setup(z){const e=ze(),_=w(!0),r=w(!1),b=F(()=>{const s=e.ItemScale,a=e.gen;let i=-1,g=-1;for(let v=0;v<a.length;v++){const x=a[v];s[x]>i&&(i=s[x],g=x)}return g!==-1&&m[g]?m[g].themeColor:"#517ADA"}),u=F(()=>{const s=[...e.gen];if(s.length<2)return new URL("/assets/0-ByZ3f7o9.png",import.meta.url).href;s.sort((g,v)=>e.ItemScale[v]-e.ItemScale[g]);const a=s.slice(0,2);a.sort((g,v)=>g-v);const i=`${a[0]}${a[1]}.png`;return new URL(Object.assign({"../assets/Gen_Image/0.png":Re,"../assets/Gen_Image/01.png":Ce,"../assets/Gen_Image/02.png":Me,"../assets/Gen_Image/03.png":ke,"../assets/Gen_Image/04.png":We,"../assets/Gen_Image/05.png":Ae,"../assets/Gen_Image/06.png":Be,"../assets/Gen_Image/07.png":Le,"../assets/Gen_Image/12.png":Ee,"../assets/Gen_Image/13.png":Pe,"../assets/Gen_Image/14.png":Ne,"../assets/Gen_Image/15.png":Xe,"../assets/Gen_Image/16.png":je,"../assets/Gen_Image/17.png":Ue,"../assets/Gen_Image/23.png":qe,"../assets/Gen_Image/24.png":Oe,"../assets/Gen_Image/25.png":De,"../assets/Gen_Image/26.png":Te,"../assets/Gen_Image/27.png":Ye,"../assets/Gen_Image/34.png":He,"../assets/Gen_Image/35.png":Ve,"../assets/Gen_Image/36.png":Ze,"../assets/Gen_Image/37.png":Ke,"../assets/Gen_Image/45.png":Je,"../assets/Gen_Image/46.png":Qe,"../assets/Gen_Image/47.png":es,"../assets/Gen_Image/56.png":ss,"../assets/Gen_Image/57.png":ts,"../assets/Gen_Image/67.png":ns})[`../assets/Gen_Image/${i}`],import.meta.url).href}),d=w(0),o=w(.8),p=w(10),y=w({density:20,minSize:20,maxSize:120,speedX:.8,speedY:.3,rotSpeed:.02,opacity:1}),S=w({density:30,minSize:5,maxSize:20,speedX:.5,speedY:.6,rotSpeed:.03,opacity:.3}),f=F(()=>{const s=[...e.gen];return s.sort((i,g)=>e.ItemScale[g]-e.ItemScale[i]),s.slice(0,2).map(i=>new URL(Object.assign({"../assets/Intro_collect.png":fe,"../assets/Intro_gen.png":ve,"../assets/Intro_gen2.png":de,"../assets/Intro_gen3.png":ue,"../assets/Intro_gen4.png":me,"../assets/Intro_library.png":pe,"../assets/Intro_logo.png":ce,"../assets/Intro_map.png":ge,"../assets/Map-UI.png":re,"../assets/Map.png":_e,"../assets/deer-sm-1.png":ie,"../assets/deer_button.png":le,"../assets/deer_points.png":oe,"../assets/map_p.png":ae,"../assets/五節芒.png":ne,"../assets/五節芒W.png":N,"../assets/小葉桑.png":te,"../assets/小葉桑W.png":P,"../assets/月桃.png":se,"../assets/月桃W.png":E,"../assets/未知元素.png":ee,"../assets/構樹.png":Q,"../assets/構樹W.png":L,"../assets/穀穗.png":J,"../assets/穀穗W.png":B,"../assets/赤榕.png":K,"../assets/赤榕W.png":A,"../assets/金草蘭.png":Z,"../assets/金草蘭W.png":W,"../assets/青剛櫟.png":V,"../assets/青剛櫟W.png":k})[`../assets/${m[i].nameZh}.png`],import.meta.url).href)}),t=F(()=>{const s=[...e.gen];return s.sort((i,g)=>e.ItemScale[g]-e.ItemScale[i]),s.slice(2).map(i=>new URL(Object.assign({"../assets/五節芒W.png":N,"../assets/小葉桑W.png":P,"../assets/月桃W.png":E,"../assets/構樹W.png":L,"../assets/穀穗W.png":B,"../assets/赤榕W.png":A,"../assets/金草蘭W.png":W,"../assets/青剛櫟W.png":k})[`../assets/${m[i].nameZh}W.png`],import.meta.url).href)}),n=["#C8AAFF","#ffffff","#7093FF","#FFF2A6"],l={particleCount:100,minSize:4,maxSize:60,minForce:3,maxForce:20,duration:15e3};return X(()=>{setTimeout(()=>{_.value=!1,r.value=!0,setTimeout(()=>{r.value=!1},l.duration)},2e3)}),(s,a)=>{const i=Y("RouterLink");return h(),I("div",ds,[_.value?(h(),O(Fe,{key:0})):D("",!0),$($e),r.value?(h(),O(us,{key:1,colors:n,particleCount:l.particleCount,minSize:l.minSize,maxSize:l.maxSize,minForce:l.minForce,maxForce:l.maxForce,duration:l.duration},null,8,["particleCount","minSize","maxSize","minForce","maxForce","duration"])):D("",!0),a[3]||(a[3]=c("div",{class:"absolute top-0 left-0 z-0 w-full h-[500px] overflow-hidden bg-[#000000]"},null,-1)),c("div",vs,[G(e).gen.length>0?(h(),I("div",fs,[c("div",hs,[$(T,{images:t.value,config:S.value},null,8,["images","config"]),$(T,{images:f.value,config:y.value},null,8,["images","config"]),c("div",{class:"absolute inset-0 bg-black z-0 pointer-events-none mask-pulse",style:R({"--mask-min":d.value,"--mask-max":o.value,"animation-duration":`${p.value}s`})},null,4),c("img",{src:u.value,alt:"Generated Image",class:"w-full h-auto relative z-10"},null,8,bs)]),c("div",{class:"relative -top-24 left-0 z-10 w-full h-24",style:R({background:`linear-gradient(to top, ${b.value}, transparent)`})},null,4),a[0]||(a[0]=c("div",{class:"relative -top-12 text-white mt-3 text-[24px] font-bold text-center"}," 你獲得了一隻ＯＯＯ鹿! ",-1)),$(ms,{Gen:G(e).gen,Rate:G(e).SelectedItemRate},null,8,["Gen","Rate"])])):(h(),I("div",xs,[a[2]||(a[2]=c("div",{class:"text-white mt-3 text-[18px] font-bold text-center mb-3"}," 你還沒有選擇任何元素，請選擇元素! ",-1)),c("div",ys,[$(i,{to:"/gen-choose",class:"flex h-12 w-12 items-center justify-center rounded-full border border-[#ffffff] bg-black/60"},{default:H(()=>[...a[1]||(a[1]=[c("span",{class:"text-3xl leading-none text-[#ffffff]"}," › ",-1)])]),_:1})])]))])])}}},Gs=Se(Is,[["__scopeId","data-v-1c4d02bc"]]);export{Gs as default};
